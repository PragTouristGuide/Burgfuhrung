<!DOCTYPE html>
<html>
<head>
  <title>Mapa prohlídky</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 100vh; }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([50.091, 14.400], 16);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const geojson = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "geometry": {
            "type": "LineString",
            "coordinates": [
              [14.3985806, 50.0930742],
              [14.3985686, 50.0931688],
              [14.3982991, 50.0931534],
              [14.3987257, 50.0905758],
              [14.3982485, 50.0897638],
              [14.39897, 50.08998],
              [14.39881, 50.09024],
              [14.39891, 50.09045],
              [14.39944, 50.09056],
              [14.39983, 50.09081],
              [14.4011, 50.09106],
              [14.39991, 50.09063],
              [14.39967, 50.09046],
              [14.39995, 50.0902],
              [14.40022, 50.09014],
              [14.40052, 50.09025],
              [14.40074, 50.09041],
              [14.40116, 50.09044],
              [14.40197, 50.09065],
              [14.40214, 50.091],
              [14.40239, 50.09117],
              [14.40274, 50.09131],
              [14.40229, 50.09111],
              [14.40238, 50.09103],
              [14.4026, 50.09106],
              [14.40287, 50.09116],
              [14.40349, 50.09145],
              [14.40335, 50.09166],
              [14.40388, 50.09177],
              [14.40382, 50.09192],
              [14.40272, 50.09173],
              [14.40433, 50.09204],
              [14.4049, 50.0922],
              [14.40434, 50.09195],
              [14.40438, 50.09178],
              [14.40409, 50.09162],
              [14.40475, 50.09173],
              [14.40591, 50.09186],
              [14.40618, 50.092]
            ]
          },
          "properties": {
            "name": "Trasa prohlídky",
            "stroke": "#6600cc",
            "stroke-width": 3
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [14.3986778, 50.0930746]
          },
          "properties": {
            "name": "Start: Erzbischöfliches Palais"
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [14.39827, 50.089702]
          },
          "properties": {
            "name": "Erster Burghof"
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [14.398988, 50.089991]
          },
          "properties": {
            "name": "Zweiter Burghof"
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [14.400421, 50.09091]
          },
          "properties": {
            "name": "Veitsdom"
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [14.4016893, 50.0905847]
          },
          "properties": {
            "name": "Königspalais"
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [14.402508, 50.091213]
          },
          "properties": {
            "name": "St.-Georgs-Basilika"
          }
        },
        {
          "type": "Feature",
          "geometry": {
            "type": "Point",
            "coordinates": [14.403924, 50.091966]
          },
          "properties": {
            "name": "Goldenes Gässchen"
          }
        }
      ]
    };

    const geoLayer = L.geoJSON(geojson, {
      style: function (feature) {
        if (feature.geometry.type === "LineString") {
          return {
            color: feature.properties.stroke || "#6600cc",
            weight: feature.properties["stroke-width"] || 3
          };
        }
      },
      pointToLayer: function (feature, latlng) {
        return L.marker(latlng).bindPopup(`<b>${feature.properties.name}</b>`);
      }
    }).addTo(map);

    // Automatické přiblížení na trasu a body
    map.fitBounds(geoLayer.getBounds());
  </script>
</body>
</html>
