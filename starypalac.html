<!DOCTYPE html>
<html>
<head>
  <title>Mapa prohlídky</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 100vh; }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([50.091, 14.400], 16);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    const geojson = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [14.3985806, 50.0930742, 0],
          [14.3985686, 50.0931688, 0],
          [14.3982991, 50.0931534, 0],
          [14.3987257, 50.0905758, 0],
          [14.3982485, 50.0897638, 0],
          [14.39897, 50.08998, 0],
          [14.39881, 50.09024, 0],
          [14.39891, 50.09045, 0],
          [14.39944, 50.09056, 0],
          [14.39983, 50.09081, 0],
          [14.4011, 50.09106, 0],
          [14.39991, 50.09063, 0],
          [14.39967, 50.09046, 0],
          [14.39995, 50.0902, 0],
          [14.40022, 50.09014, 0],
          [14.40052, 50.09025, 0],
          [14.40074, 50.09041, 0],
          [14.40116, 50.09044, 0],
          [14.40197, 50.09065, 0],
          [14.40214, 50.091, 0],
          [14.40239, 50.09117, 0],
          [14.40274, 50.09131, 0],
          [14.40229, 50.09111, 0],
          [14.40238, 50.09103, 0],
          [14.4026, 50.09106, 0],
          [14.40287, 50.09116, 0],
          [14.40349, 50.09145, 0],
          [14.40335, 50.09166, 0],
          [14.40388, 50.09177, 0],
          [14.40382, 50.09192, 0],
          [14.40272, 50.09173, 0],
          [14.40433, 50.09204, 0],
          [14.4049, 50.0922, 0],
          [14.40434, 50.09195, 0],
          [14.40438, 50.09178, 0],
          [14.40409, 50.09162, 0],
          [14.40475, 50.09173, 0],
          [14.40591, 50.09186, 0],
          [14.40618, 50.092, 0]
        ]
      },
      "properties": {
        "name": "Führung: Prager Burg – 2,5 Std. mit Eintritt",
        "description": "www.pragtourist.cz (http://www.pragtourist.cz/products/prager-burg-fuhrung-mit-eintritt-/)",
        "styleUrl": "#line-6600CC-3519",
        "stroke-opacity": 1,
        "stroke": "#6600cc",
        "stroke-width": 3.519
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [14.3986778, 50.0930746, 0]
      },
      "properties": {
        "name": "Treffpunkt / Ausgangspunkt\n",
        "description": {
          "@type": "html",
          "value": "vor dem Erzbischöflichen Palais, <br>Hradčanské náměstí 16/56"
        },
        "icon": "https://www.gstatic.com/mapspro/images/stock/167-red-pushpin.png"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [14.39827, 50.089702, 0]
      },
      "properties": {
        "name": "Erster Burghof",
        "icon": "https://www.gstatic.com/mapspro/images/stock/111-purple-dot.png"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [14.398988, 50.089991, 0]
      },
      "properties": {
        "name": "Zweiter Burghof",
        "icon": "https://www.gstatic.com/mapspro/images/stock/111-purple-dot.png"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [14.400421, 50.09091, 0]
      },
      "properties": {
        "name": "Veitsdom",
        "icon": "https://www.gstatic.com/mapspro/images/stock/111-purple-dot.png"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [14.4016893, 50.0905847, 0]
      },
      "properties": {
        "name": "Königspalais",
        "icon": "https://www.gstatic.com/mapspro/images/stock/111-purple-dot.png"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [14.402508, 50.091213, 0]
      },
      "properties": {
        "name": "St.-Georgs-Basilika",
        "icon": "https://www.gstatic.com/mapspro/images/stock/111-purple-dot.png"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [14.403924, 50.091966, 0]
      },
      "properties": {
        "name": "Goldenes Gässchen",
        "icon": "https://www.gstatic.com/mapspro/images/stock/111-purple-dot.png"
      }
    }
  ]
};

    const myStyle = {
      color: "#6600cc",
      weight: 3.5,
      opacity: 1
    };

    L.geoJSON(geojson, {
      style: feature => feature.geometry.type === "LineString" ? myStyle : undefined,
      pointToLayer: function (feature, latlng) {
        return L.marker(latlng, {
          icon: L.icon({
            iconUrl: feature.properties.icon || undefined,
            iconSize: [32, 32],
            iconAnchor: [16, 32]
          })
        }).bindPopup(`<b>${feature.properties.name}</b><br>${
          typeof feature.properties.description === 'object'
            ? feature.properties.description.value
            : (feature.properties.description || '')
        }`);
      }
    }).addTo(map);
  </script>
</body>
</html>
